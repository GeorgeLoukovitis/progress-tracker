{"ast":null,"code":"import { getToken, setUser } from \"./LoginService\";\n\nconst isMilestoneAchieved = (usr, milestone) => {\n  return usr.achievements.map(a => a.milestone).includes(milestone._id);\n};\n\nconst isEnrolled = (usr, pid) => {\n  const projectIds = usr.projectsJoined;\n  return projectIds.includes(pid);\n};\n\nconst enrollToProject = (pid, updateState) => {\n  const token = getToken();\n  fetch(\"http://localhost:8000/enrollToProject/\", {\n    mode: \"cors\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-access-token\": token,\n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    body: JSON.stringify({\n      projectId: pid\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw Error(\"Enrollment error\");\n    }\n  }).then(data => {\n    setUser(data.user);\n    updateState(data.user);\n    console.log(data);\n  }).catch(err => {\n    console.log(err.message);\n  });\n};\n\nexport { isMilestoneAchieved, isEnrolled, enrollToProject };","map":{"version":3,"sources":["C:/Users/Programming/Documents/GitHub/progress-tracker/src/utilities/ProjectService.js"],"names":["getToken","setUser","isMilestoneAchieved","usr","milestone","achievements","map","a","includes","_id","isEnrolled","pid","projectIds","projectsJoined","enrollToProject","updateState","token","fetch","mode","method","headers","body","JSON","stringify","projectId","then","res","ok","json","Error","data","user","console","log","catch","err","message"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,OAAnB,QAAkC,gBAAlC;;AAEA,MAAMC,mBAAmB,GAAG,CAACC,GAAD,EAAKC,SAAL,KAAiB;AAC3C,SAAOD,GAAG,CAACE,YAAJ,CAAiBC,GAAjB,CAAsBC,CAAD,IAAMA,CAAC,CAACH,SAA7B,EAAyCI,QAAzC,CAAkDJ,SAAS,CAACK,GAA5D,CAAP;AAED,CAHD;;AAKA,MAAMC,UAAU,GAAG,CAACP,GAAD,EAAKQ,GAAL,KAAa;AAC9B,QAAMC,UAAU,GAAGT,GAAG,CAACU,cAAvB;AACA,SAAOD,UAAU,CAACJ,QAAX,CAAoBG,GAApB,CAAP;AACD,CAHD;;AAKA,MAAMG,eAAe,GAAG,CAACH,GAAD,EAAMI,WAAN,KAAoB;AAC1C,QAAMC,KAAK,GAAGhB,QAAQ,EAAtB;AACAiB,EAAAA,KAAK,CAAC,wCAAD,EACL;AACEC,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,MAAM,EAAE,MAFV;AAGEC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,wBAAkBJ,KAFX;AAGP,qCAA+B;AAHxB,KAHX;AAQEK,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,MAAAA,SAAS,EAACb;AAAX,KAAf;AARR,GADK,CAAL,CAWCc,IAXD,CAWOC,GAAD,IAAO;AACX,QAAGA,GAAG,CAACC,EAAP,EACA;AACE,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,KAHD,MAKA;AACE,YAAMC,KAAK,CAAC,kBAAD,CAAX;AACD;AACF,GApBD,EAqBCJ,IArBD,CAqBOK,IAAD,IAAQ;AACZ7B,IAAAA,OAAO,CAAC6B,IAAI,CAACC,IAAN,CAAP;AACAhB,IAAAA,WAAW,CAACe,IAAI,CAACC,IAAN,CAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACD,GAzBD,EA0BCI,KA1BD,CA0BQC,GAAD,IAAO;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,OAAhB;AACD,GA5BD;AA6BD,CA/BD;;AAiCA,SAAQlC,mBAAR,EAA6BQ,UAA7B,EAAyCI,eAAzC","sourcesContent":["import { getToken, setUser } from \"./LoginService\";\n\nconst isMilestoneAchieved = (usr,milestone)=>{\n  return usr.achievements.map((a)=>(a.milestone)).includes(milestone._id)\n\n}\n\nconst isEnrolled = (usr,pid) => {\n  const projectIds = usr.projectsJoined\n  return projectIds.includes(pid)\n}\n\nconst enrollToProject = (pid, updateState)=>{\n  const token = getToken()\n  fetch(\"http://localhost:8000/enrollToProject/\",\n  {\n    mode: \"cors\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-access-token\": token, \n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    body: JSON.stringify({projectId:pid})\n  })\n  .then((res)=>{\n    if(res.ok)\n    {\n      return res.json()\n    }\n    else\n    {\n      throw Error(\"Enrollment error\")\n    }\n  })\n  .then((data)=>{\n    setUser(data.user)\n    updateState(data.user)\n    console.log(data)\n  })\n  .catch((err)=>{\n    console.log(err.message)\n  })\n}\n\nexport {isMilestoneAchieved, isEnrolled, enrollToProject}"]},"metadata":{},"sourceType":"module"}