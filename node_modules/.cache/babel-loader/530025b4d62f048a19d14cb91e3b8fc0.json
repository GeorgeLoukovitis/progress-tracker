{"ast":null,"code":"const login = (username, password, setUser) => {\n  fetch(\"http://localhost:8000/users\").then(res => res.json()).then(data => {\n    let userFilter = data.filter(usr => usr.username === username && usr.password === password);\n    console.log(userFilter);\n\n    if (userFilter.length !== 0) {\n      localStorage.setItem(\"user\", JSON.stringify(userFilter[0]));\n      setUser(userFilter[0]);\n    }\n  });\n};\n\nconst register = (username, password, setUser) => {\n  fetch(\"http://localhost:8000/users\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      username,\n      password,\n      projectsEnrolled: []\n    })\n  }).then(res => {\n    if (res.ok) {\n      login(username, password, setUser);\n    }\n  });\n};\n\nconst getUser = () => {\n  return localStorage.getItem(\"user\");\n};\n\nconst setUser = usr => {\n  localStorage.setItem(\"\");\n};\n\nexport { login, register };","map":{"version":3,"sources":["C:/Users/Programming/Documents/GitHub/progress-tracker/src/utilities/LoginService.js"],"names":["login","username","password","setUser","fetch","then","res","json","data","userFilter","filter","usr","console","log","length","localStorage","setItem","JSON","stringify","register","method","headers","body","projectsEnrolled","ok","getUser","getItem"],"mappings":"AACA,MAAMA,KAAK,GAAG,CAACC,QAAD,EAAWC,QAAX,EAAqBC,OAArB,KAAiC;AAC3CC,EAAAA,KAAK,CAAC,6BAAD,CAAL,CACGC,IADH,CACSC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAESG,IAAD,IAAQ;AACZ,QAAIC,UAAU,GAAGD,IAAI,CAACE,MAAL,CAAaC,GAAD,IAAQA,GAAG,CAACV,QAAJ,KAAiBA,QAAjB,IAA6BU,GAAG,CAACT,QAAJ,KAAiBA,QAAlE,CAAjB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;;AACA,QAAGA,UAAU,CAACK,MAAX,KAAsB,CAAzB,EACA;AACEC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeT,UAAU,CAAC,CAAD,CAAzB,CAA7B;AACAN,MAAAA,OAAO,CAACM,UAAU,CAAC,CAAD,CAAX,CAAP;AACD;AACF,GAVH;AAWH,CAZD;;AAcA,MAAMU,QAAQ,GAAG,CAAClB,QAAD,EAAWC,QAAX,EAAqBC,OAArB,KAAiC;AAChDC,EAAAA,KAAK,CAAC,6BAAD,EACH;AACEgB,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFX;AAKEC,IAAAA,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAe;AAACjB,MAAAA,QAAD;AAAWC,MAAAA,QAAX;AAAqBqB,MAAAA,gBAAgB,EAAC;AAAtC,KAAf;AALR,GADG,CAAL,CAQGlB,IARH,CAQSC,GAAD,IAAO;AACX,QAAGA,GAAG,CAACkB,EAAP,EACA;AACExB,MAAAA,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAoBC,OAApB,CAAL;AACD;AACF,GAbH;AAcD,CAfD;;AAiBA,MAAMsB,OAAO,GAAG,MAAK;AACnB,SAAOV,YAAY,CAACW,OAAb,CAAqB,MAArB,CAAP;AACD,CAFD;;AAIA,MAAMvB,OAAO,GAAIQ,GAAD,IAAS;AACvBI,EAAAA,YAAY,CAACC,OAAb,CAAqB,EAArB;AACD,CAFD;;AAMA,SAAQhB,KAAR,EAAemB,QAAf","sourcesContent":["\nconst login = (username, password, setUser) => {\n    fetch(\"http://localhost:8000/users\")\n      .then((res)=>res.json())\n      .then((data)=>{\n        let userFilter = data.filter((usr)=>(usr.username === username && usr.password === password))\n        console.log(userFilter)\n        if(userFilter.length !== 0)\n        {\n          localStorage.setItem(\"user\", JSON.stringify(userFilter[0]))\n          setUser(userFilter[0])\n        }\n      })\n}\n\nconst register = (username, password, setUser) => {\n  fetch(\"http://localhost:8000/users\",\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({username, password, projectsEnrolled:[]})\n    })\n    .then((res)=>{\n      if(res.ok)\n      {\n        login(username, password,setUser)\n      }\n    })\n}\n\nconst getUser = () =>{\n  return localStorage.getItem(\"user\")\n}\n\nconst setUser = (usr) => {\n  localStorage.setItem(\"\")\n}\n\n\n\nexport {login, register}"]},"metadata":{},"sourceType":"module"}