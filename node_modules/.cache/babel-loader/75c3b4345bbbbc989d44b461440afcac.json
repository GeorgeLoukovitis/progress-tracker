{"ast":null,"code":"import _slicedToArray from\"C:/Users/Programming/Documents/GitHub/progress-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import{Box,Button,Card,CardContent,CssBaseline,Drawer,List,ListItem,ListItemText,ListSubheader,Stack}from'@mui/material';import AddIcon from'@mui/icons-material/Add';import MyAppBar from'./MyAppBar';import SideMenu from'./SideMenu';import{getToken,getUser,refresh}from'../utilities/LoginService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyProjects=function MyProjects(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDrawerOpen=_useState2[0],setDrawer=_useState2[1];var toggleDrawer=function toggleDrawer(){setDrawer(!isDrawerOpen);};var navigate=useNavigate();var _useState3=useState(getUser()),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setLocalUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),projects=_useState6[0],setProjects=_useState6[1];useEffect(function(){refresh(setLocalUser);fetch(\"http://localhost:8000/myProjects\",{mode:\"cors\",method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"x-access-token\":getToken(),\"Access-Control-Allow-Origin\":\"*\"}}).then(function(res){if(res.ok){return res.json();}else{throw Error(\"Refresh Error\");}}).then(function(data){// console.log(\"Joined Projects\")\n// console.log(data)\nsetProjects(data);}).catch(function(err){console.log(err.message);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(MyAppBar,{title:\"My Projects\",toggleDrawer:toggleDrawer}),/*#__PURE__*/_jsx(Drawer,{anchor:\"left\",open:isDrawerOpen,onClose:toggleDrawer,children:/*#__PURE__*/_jsx(SideMenu,{})}),/*#__PURE__*/_jsx(Box,{sx:{margin:4,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsx(Card,{sx:{width:500},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(List,{subheader:/*#__PURE__*/_jsx(ListSubheader,{children:\"My Projects\"}),children:projects.map(function(project){return/*#__PURE__*/_jsx(ListItem,{secondaryAction:/*#__PURE__*/_jsx(Stack,{direction:\"row\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){navigate(\"/award-milestones/\"+project._id);},children:\"Award Milestones\"})}),children:/*#__PURE__*/_jsx(ListItemText,{primary:project.title})},project._id);})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){navigate(\"/create-project\");},variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Create Project\"})]})})})]});};export default MyProjects;","map":{"version":3,"sources":["C:/Users/Programming/Documents/GitHub/progress-tracker/src/components/MyProjects.js"],"names":["React","useState","useEffect","useNavigate","Box","Button","Card","CardContent","CssBaseline","Drawer","List","ListItem","ListItemText","ListSubheader","Stack","AddIcon","MyAppBar","SideMenu","getToken","getUser","refresh","MyProjects","isDrawerOpen","setDrawer","toggleDrawer","navigate","user","setLocalUser","projects","setProjects","fetch","mode","method","headers","then","res","ok","json","Error","data","catch","err","console","log","message","margin","display","flexDirection","alignItems","width","map","project","_id","title"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport {Box, Button, Card, CardContent, CssBaseline, Drawer, List, ListItem, ListItemText, ListSubheader, Stack } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport MyAppBar from './MyAppBar'\nimport SideMenu from './SideMenu';\nimport { getToken, getUser, refresh } from '../utilities/LoginService';\n\nconst MyProjects = () => {\n\n  const [isDrawerOpen, setDrawer] = useState(false);\n  const toggleDrawer = ()=>{\n    setDrawer(!isDrawerOpen)\n  }\n  const navigate = useNavigate()\n\n  const [user, setLocalUser] = useState(getUser())\n  const [projects, setProjects] = useState([]);\n\n  useEffect(()=>{\n    refresh(setLocalUser)\n    fetch(\"http://localhost:8000/myProjects\",\n    {\n      mode: \"cors\",\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": getToken(), \n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n    })\n    .then((res)=>{\n      if(res.ok)\n      {\n        return res.json()\n      }\n      else\n      {\n        throw Error(\"Refresh Error\")\n      }\n      \n    })\n    .then((data)=>{\n      // console.log(\"Joined Projects\")\n      // console.log(data)\n      setProjects(data)\n    })\n    .catch((err)=>{\n      console.log(err.message)\n    })\n  },[])\n\n  return (\n    <div>\n      <CssBaseline></CssBaseline>\n      <MyAppBar title=\"My Projects\" toggleDrawer={toggleDrawer}></MyAppBar>\n      <Drawer\n        anchor={\"left\"}\n        open={isDrawerOpen}\n        onClose={toggleDrawer}\n      >\n        <SideMenu></SideMenu>\n      </Drawer>\n      <Box sx={{margin: 4,\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center', \n      }}>\n        <Card sx={{width:500}}>\n          <CardContent>\n            <List subheader={\n              <ListSubheader>My Projects</ListSubheader>\n            }>\n              {\n                projects.map((project)=>(\n                  <ListItem key={project._id} secondaryAction={(\n                    <Stack direction=\"row\">\n                      <Button onClick={()=>{navigate(\"/award-milestones/\"+project._id)}}>Award Milestones</Button>\n                      {/* <Button onClick={()=>{navigate(\"/manage-projects/\"+project._id)}}>Manage</Button> */}\n                    </Stack>\n                  )}>\n                    <ListItemText primary={project.title}></ListItemText>\n                  </ListItem>\n                ))\n              }\n            </List>\n            <Button onClick={()=>{navigate(\"/create-project\")}} variant=\"contained\" startIcon={<AddIcon />}>Create Project</Button>\n          </CardContent>\n          \n        </Card>\n      </Box>\n    </div>\n  )\n}\n\nexport default MyProjects"]},"metadata":{},"sourceType":"module"}