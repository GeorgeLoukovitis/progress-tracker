{"ast":null,"code":"import { getToken, getUser, setUser } from \"./LoginService\";\n\nconst isMilestoneAchieved = (usr, milestone) => {\n  return usr.milestones.includes(milestone._id);\n};\n\nconst isEnrolled = (usr, pid) => {\n  const projectIds = usr.projectsJoined;\n  console.log(projectIds);\n  return projectIds.includes(pid);\n};\n\nconst enrollToProject = (pid, updateState) => {\n  const token = getToken();\n  fetch(\"http://localhost:8000/enrollToProject/\", {\n    mode: \"cors\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-access-token\": token,\n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    body: JSON.stringify({\n      projectId: pid\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw Error(\"Enrollment error\");\n    }\n  }).then(data => {\n    setUser(data.user);\n    updateState(data.user);\n    console.log(data);\n  }).catch(err => {\n    console.log(err.message);\n  });\n};\n\nexport { isMilestoneAchieved, isEnrolled, enrollToProject };","map":{"version":3,"sources":["C:/Users/Programming/Documents/GitHub/progress-tracker/Frontend/src/utilities/ProjectService.js"],"names":["getToken","getUser","setUser","isMilestoneAchieved","usr","milestone","milestones","includes","_id","isEnrolled","pid","projectIds","projectsJoined","console","log","enrollToProject","updateState","token","fetch","mode","method","headers","body","JSON","stringify","projectId","then","res","ok","json","Error","data","user","catch","err","message"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,OAAnB,EAA4BC,OAA5B,QAA2C,gBAA3C;;AAEA,MAAMC,mBAAmB,GAAG,CAACC,GAAD,EAAKC,SAAL,KAAiB;AAE3C,SAAOD,GAAG,CAACE,UAAJ,CAAeC,QAAf,CAAwBF,SAAS,CAACG,GAAlC,CAAP;AAED,CAJD;;AAMA,MAAMC,UAAU,GAAG,CAACL,GAAD,EAAKM,GAAL,KAAa;AAC9B,QAAMC,UAAU,GAAGP,GAAG,CAACQ,cAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACA,SAAOA,UAAU,CAACJ,QAAX,CAAoBG,GAApB,CAAP;AACD,CAJD;;AAMA,MAAMK,eAAe,GAAG,CAACL,GAAD,EAAMM,WAAN,KAAoB;AAC1C,QAAMC,KAAK,GAAGjB,QAAQ,EAAtB;AACAkB,EAAAA,KAAK,CAAC,wCAAD,EACL;AACEC,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,MAAM,EAAE,MAFV;AAGEC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,wBAAkBJ,KAFX;AAGP,qCAA+B;AAHxB,KAHX;AAQEK,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,MAAAA,SAAS,EAACf;AAAX,KAAf;AARR,GADK,CAAL,CAWCgB,IAXD,CAWOC,GAAD,IAAO;AACX,QAAGA,GAAG,CAACC,EAAP,EACA;AACE,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,KAHD,MAKA;AACE,YAAMC,KAAK,CAAC,kBAAD,CAAX;AACD;AACF,GApBD,EAqBCJ,IArBD,CAqBOK,IAAD,IAAQ;AACZ7B,IAAAA,OAAO,CAAC6B,IAAI,CAACC,IAAN,CAAP;AACAhB,IAAAA,WAAW,CAACe,IAAI,CAACC,IAAN,CAAX;AACAnB,IAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAZ;AACD,GAzBD,EA0BCE,KA1BD,CA0BQC,GAAD,IAAO;AACZrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACC,OAAhB;AACD,GA5BD;AA6BD,CA/BD;;AAiCA,SAAQhC,mBAAR,EAA6BM,UAA7B,EAAyCM,eAAzC","sourcesContent":["import { getToken, getUser, setUser } from \"./LoginService\";\n\nconst isMilestoneAchieved = (usr,milestone)=>{\n\n  return usr.milestones.includes(milestone._id)\n\n}\n\nconst isEnrolled = (usr,pid) => {\n  const projectIds = usr.projectsJoined\n  console.log(projectIds)\n  return projectIds.includes(pid)\n}\n\nconst enrollToProject = (pid, updateState)=>{\n  const token = getToken()\n  fetch(\"http://localhost:8000/enrollToProject/\",\n  {\n    mode: \"cors\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-access-token\": token, \n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    body: JSON.stringify({projectId:pid})\n  })\n  .then((res)=>{\n    if(res.ok)\n    {\n      return res.json()\n    }\n    else\n    {\n      throw Error(\"Enrollment error\")\n    }\n  })\n  .then((data)=>{\n    setUser(data.user)\n    updateState(data.user)\n    console.log(data)\n  })\n  .catch((err)=>{\n    console.log(err.message)\n  })\n}\n\nexport {isMilestoneAchieved, isEnrolled, enrollToProject}"]},"metadata":{},"sourceType":"module"}