{"ast":null,"code":"import _slicedToArray from\"C:/Users/Programming/Documents/GitHub/progress-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import{Box,Button,Card,CardContent,Container,CssBaseline,Drawer,List,ListItem,ListItemButton,ListItemText,ListSubheader,Stack}from'@mui/material';import AddIcon from'@mui/icons-material/Add';import MyAppBar from'./MyAppBar';import SideMenu from'./SideMenu';import{getToken,getUser,refresh}from\"../utilities/LoginService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDrawerOpen=_useState2[0],setDrawer=_useState2[1];var toggleDrawer=function toggleDrawer(){setDrawer(!isDrawerOpen);};var navigate=useNavigate();var _useState3=useState(getUser()),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setLocalUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),projects=_useState6[0],setProjects=_useState6[1];useEffect(function(){refresh(setLocalUser);fetch(\"http://localhost:8000/joinedProjects\",{mode:\"cors\",method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"x-access-token\":getToken(),\"Access-Control-Allow-Origin\":\"*\"}}).then(function(res){if(res.ok){return res.json();}else{throw Error(\"Refresh Error\");}}).then(function(data){// console.log(\"Joined Projects\")\n// console.log(data)\nsetProjects(data);}).catch(function(err){console.log(err.message);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(MyAppBar,{title:\"Enrolled Projects\",toggleDrawer:toggleDrawer}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Drawer,{anchor:\"left\",open:isDrawerOpen,onClose:toggleDrawer,children:/*#__PURE__*/_jsx(SideMenu,{})}),/*#__PURE__*/_jsx(Box,{sx:{margin:4,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsx(Card,{sx:{width:500},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(List,{subheader:/*#__PURE__*/_jsx(ListSubheader,{children:\"Enrolled Projects\"}),children:projects.map(function(project){return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsx(ListItemButton,{onClick:function onClick(){navigate(\"/projects/\"+project._id);},children:/*#__PURE__*/_jsx(ListItemText,{primary:project.title})})},project._id);})}),/*#__PURE__*/_jsx(Stack,{direction:\"row\",justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return navigate(\"/all-projects\");},variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"EnrolL\"})})]})})})]})]});};export default Home;","map":{"version":3,"sources":["C:/Users/Programming/Documents/GitHub/progress-tracker/src/components/Home.js"],"names":["React","useState","useEffect","useNavigate","Box","Button","Card","CardContent","Container","CssBaseline","Drawer","List","ListItem","ListItemButton","ListItemText","ListSubheader","Stack","AddIcon","MyAppBar","SideMenu","getToken","getUser","refresh","Home","isDrawerOpen","setDrawer","toggleDrawer","navigate","user","setLocalUser","projects","setProjects","fetch","mode","method","headers","then","res","ok","json","Error","data","catch","err","console","log","message","margin","display","flexDirection","alignItems","width","map","project","_id","title"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from 'react'\nimport { useNavigate } from \"react-router-dom\";\nimport { Box, Button, Card, CardContent, Container, CssBaseline, Drawer, List, ListItem, ListItemButton, ListItemText, ListSubheader, Stack } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport MyAppBar from './MyAppBar'\nimport SideMenu from './SideMenu';\nimport {getToken, getUser, refresh} from \"../utilities/LoginService\"\n\nconst Home = () => {\n\n  const [isDrawerOpen, setDrawer] = useState(false);\n  const toggleDrawer = ()=>{\n    setDrawer(!isDrawerOpen)\n  }\n  \n  const navigate = useNavigate()\n  const [user, setLocalUser] = useState(getUser())\n  const [projects, setProjects] = useState([]);\n  useEffect(()=>{\n    refresh(setLocalUser)\n    fetch(\"http://localhost:8000/joinedProjects\",\n    {\n      mode: \"cors\",\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": getToken(), \n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n    })\n    .then((res)=>{\n      if(res.ok)\n      {\n        return res.json()\n      }\n      else\n      {\n        throw Error(\"Refresh Error\")\n      }\n      \n    })\n    .then((data)=>{\n      // console.log(\"Joined Projects\")\n      // console.log(data)\n      setProjects(data)\n    })\n    .catch((err)=>{\n      console.log(err.message)\n    })\n  },[])\n\n  return (\n    <div>\n      <CssBaseline></CssBaseline>\n      <MyAppBar title=\"Enrolled Projects\" toggleDrawer={toggleDrawer}></MyAppBar>\n      <Container maxWidth=\"sm\">\n        <Drawer\n          anchor={\"left\"}\n          open={isDrawerOpen}\n          onClose={toggleDrawer}\n        >\n          <SideMenu></SideMenu>\n        </Drawer>\n        <Box sx={{margin: 4,\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center', \n        }}>\n          <Card sx={{width:500}}>\n            <CardContent>\n              <List subheader={\n                <ListSubheader>Enrolled Projects</ListSubheader>\n              }>\n                {projects.map((project)=>(\n                  <ListItem disablePadding key={project._id}>\n                    <ListItemButton onClick={()=>{\n                      navigate(\"/projects/\"+project._id)\n                    }}>\n                      <ListItemText primary={project.title} />\n                    </ListItemButton>\n                  </ListItem>\n                ))}\n                \n              </List>\n              <Stack direction=\"row\" justifyContent=\"flex-end\">\n                <Button onClick={()=>navigate(\"/all-projects\")} variant=\"contained\" startIcon={<AddIcon />}>EnrolL</Button>\n              </Stack>\n            </CardContent>\n          </Card>\n        </Box>\n        \n        \n        \n      </Container>\n    </div>\n  )\n}\n\nexport default Home"]},"metadata":{},"sourceType":"module"}